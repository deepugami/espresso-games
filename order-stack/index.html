<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Order Stack — Espresso Games</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div id="app">
      <canvas id="game" aria-label="Order Stack game" role="img"></canvas>
      <div class="floating-mugs" aria-hidden="true">
        <a href="https://ibb.co/ZR1XLLxn" class="mug" style="--x:15%;--s:1.4;--d:24s;--delay:-2s;"><img src="https://i.ibb.co/cKX3ggQG/Chat-GPT-Image-Aug-16-2025-11-07-24-PM.png" alt="Coffee mug" loading="lazy" /></a>
        <a href="https://ibb.co/ZR1XLLxn" class="mug" style="--x:45%;--s:1.2;--d:28s;--delay:-8s;"><img src="https://i.ibb.co/cKX3ggQG/Chat-GPT-Image-Aug-16-2025-11-07-24-PM.png" alt="Coffee mug" loading="lazy" /></a>
        <a href="https://ibb.co/ZR1XLLxn" class="mug" style="--x:75%;--s:1.5;--d:26s;--delay:-5s;"><img src="https://i.ibb.co/cKX3ggQG/Chat-GPT-Image-Aug-16-2025-11-07-24-PM.png" alt="Coffee mug" loading="lazy" /></a>
        <a href="https://ibb.co/ZR1XLLxn" class="mug" style="--x:90%;--s:1.1;--d:30s;--delay:-12s;"><img src="https://i.ibb.co/cKX3ggQG/Chat-GPT-Image-Aug-16-2025-11-07-24-PM.png" alt="Coffee mug" loading="lazy" /></a>
      </div>
      <div id="hud">
        <div class="left">
          <div class="order-box">
            <div class="order-title" id="orderTitle">Order</div>
            <div class="order-icons" id="orderIcons" aria-label="Current order recipe" role="list"></div>
            <div class="order-note" id="orderNote">Exact match = finalized rollup</div>
          </div>
          <a class="home-link" href="../index.html" title="Back to Espresso Games">Home</a>
        </div>
        <div class="right">
          <div class="scores">
            <div class="score"><span class="label">Score</span><span id="score">0</span></div>
            <div class="score"><span class="label">Combo</span><span id="combo">0</span></div>
            <div class="score"><span class="label">Wave</span><span id="wave">1</span></div>
            <div class="score"><span class="label">Best</span><span id="best">0</span></div>
          </div>
          <div class="buttons">
            <button id="muteBtn" aria-pressed="false" title="Toggle sound">Sound: On</button>
            <button id="resetBtn" title="Reset run">Reset</button>
            <button id="howtoBtn" title="How to play">How&nbsp;To&nbsp;Play</button>
          </div>
          <div class="controls">Click/Tap a reel to stop • Space to stop highlighted</div>
        </div>
      </div>
      
    </div>

    <div id="howto" class="overlay hidden" role="dialog" aria-modal="true" aria-labelledby="howtoTitle">
      <div class="modal">
        <div id="howtoTitle" class="modal-title">How To Play</div>
        <div class="modal-body">
          Stop each ingredient reel to match the order exactly. Exact match finalizes the rollup and boosts combo; misses break it. Use reset to try a fresh wave.
        </div>
        <div class="modal-actions">
          <button id="howtoClose">Got it</button>
        </div>
      </div>
    </div>

    <script src="main.js"></script>
    <script>
      (function(){
        const btn = document.getElementById('howtoBtn');
        const modal = document.getElementById('howto');
        const close = document.getElementById('howtoClose');
        if(btn && modal && close){
          btn.addEventListener('click', ()=> modal.classList.remove('hidden'));
          close.addEventListener('click', ()=> modal.classList.add('hidden'));
          modal.addEventListener('click', (e)=>{ if(e.target === modal) modal.classList.add('hidden'); });
          window.addEventListener('keydown', (e)=>{ if(e.key === 'Escape') modal.classList.add('hidden'); });
        }
      })();
    </script>
  </body>
  </html>



